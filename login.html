<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login | VedaVault</title>
<style>
body{font-family:Arial;background:#fffbeb;display:flex;justify-content:center;align-items:center;height:100vh;}
.login-box{background:#fff;padding:30px;border-radius:15px;box-shadow:0 10px 25px rgba(0,0,0,0.15);width:320px;}
h2{color:#d97706;text-align:center;}
input,button{width:100%;padding:10px;margin:10px 0;border-radius:8px;border:1px solid #ccc;}
button{background:#d97706;color:#fff;font-weight:bold;border:none;cursor:pointer;}
button:hover{background:#b45309;}
</style>
</head>
<body>

<div class="login-box">
<h2>User Login</h2>
<input type="email" id="email" placeholder="Email" required>
<input type="password" id="password" placeholder="Password" required>
<button onclick="login()">Login</button>
<p id="msg" style="color:red;"></p>
<p>Don't have an account? <a href="registration.html">Register</a></p>
</div>

<script>
function login(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  fetch("/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ email, password })
  })
  .then(res=>{
    if(!res.ok) throw new Error("Invalid login");
    return res.json();
  })
  .then(data=>{
    localStorage.setItem("user", JSON.stringify({
      id: data.user.id,
      email: data.user.email
    }));
    window.location.href = "profile.html";
  })
  .catch(()=>{
    document.getElementById("msg").textContent = "Invalid email or password";
  });
}
</script>

</body>
</html>
